{
  "filename": "dubbo.md",
  "__html": "<h1>Dubbo示例</h1>\n<h2>一、事务参与方 D</h2>\n<p>（1）新建Maven 工程<br>\n<img src=\"img/maven-d.png\" alt=\"maven project\"><br>\n（2）项目配置文件 application.properties</p>\n<pre><code class=\"language-properties\"><span class=\"hljs-comment\"># Spring boot application</span>\n<span class=\"hljs-meta\">spring.application.name</span>=<span class=\"hljs-string\">dubbo-demo-d</span>\n<span class=\"hljs-meta\">server.port</span>=<span class=\"hljs-string\">12005</span>\n<span class=\"hljs-meta\">management.port</span>=<span class=\"hljs-string\">12008</span>\n<span class=\"hljs-comment\">\n# Service version</span>\n<span class=\"hljs-meta\">demo.service.version</span>=<span class=\"hljs-string\">1.0.0</span>\n<span class=\"hljs-comment\">\n# Base packages to scan Dubbo Components (e.g @Service , @Reference)</span>\n<span class=\"hljs-meta\">dubbo.scan.basePackages</span>=<span class=\"hljs-string\">com.example</span>\n<span class=\"hljs-comment\">\n# Dubbo Config properties</span>\n<span class=\"hljs-comment\">## ApplicationConfig Bean</span>\n<span class=\"hljs-meta\">dubbo.application.id</span>=<span class=\"hljs-string\">dubbo-demo-d</span>\n<span class=\"hljs-meta\">dubbo.application.name</span>=<span class=\"hljs-string\">dubbo-demo-d</span>\n<span class=\"hljs-comment\">\n## ProtocolConfig Bean</span>\n<span class=\"hljs-meta\">dubbo.protocol.id</span>=<span class=\"hljs-string\">dubbo</span>\n<span class=\"hljs-meta\">dubbo.protocol.name</span>=<span class=\"hljs-string\">dubbo</span>\n<span class=\"hljs-meta\">dubbo.protocol.port</span>=<span class=\"hljs-string\">12345</span>\n<span class=\"hljs-comment\">\n## RegistryConfig Bean</span>\n<span class=\"hljs-meta\">dubbo.registry.id</span>=<span class=\"hljs-string\">my-registry</span>\n<span class=\"hljs-meta\">dubbo.registry.address</span>=<span class=\"hljs-string\">127.0.0.1:2181</span>\n<span class=\"hljs-meta\">dubbo.registry.protocol</span>=<span class=\"hljs-string\">zookeeper</span>\n<span class=\"hljs-meta\">dubbo.application.qos.enable</span>=<span class=\"hljs-string\">false</span>\n<span class=\"hljs-comment\">\n## DB</span>\n<span class=\"hljs-meta\">spring.datasource.driver-class-name</span>=<span class=\"hljs-string\">com.mysql.jdbc.Driver</span>\n<span class=\"hljs-meta\">spring.datasource.url</span>=<span class=\"hljs-string\">jdbc:mysql://127.0.0.1:3306/txlcn-demo\\\n  ?characterEncoding=UTF-8&amp;serverTimezone=UTC</span>\n<span class=\"hljs-meta\">spring.datasource.username</span>=<span class=\"hljs-string\">root</span>\n<span class=\"hljs-meta\">spring.datasource.password</span>=<span class=\"hljs-string\">123456</span>\n<span class=\"hljs-meta\">spring.datasource.hikari.maximum-pool-size</span>=<span class=\"hljs-string\">20</span>\n<span class=\"hljs-meta\">mybatis.configuration.map-underscore-to-camel-case</span>=<span class=\"hljs-string\">true</span>\n<span class=\"hljs-meta\">mybatis.configuration.use-generated-keys</span>=<span class=\"hljs-string\">true</span>\n</code></pre>\n<p>src: <a href=\"https://github.com/codingapi/tx-lcn/tree/5.0.0-dev/example/dubbo-demo-d\">https://github.com/codingapi/tx-lcn/tree/5.0.0/example/dubbo-demo-d</a></p>\n<h2>二、事务参与方 E</h2>\n<p>（1）新建Maven 工程<br>\n<img src=\"img/maven-e.png\" alt=\"maven project\"><br>\n（2）项目配置文件 application.properties</p>\n<pre><code class=\"language-properties\"><span class=\"hljs-comment\"># Spring boot application</span>\n<span class=\"hljs-meta\">spring.application.name</span>=<span class=\"hljs-string\">dubbo-demo-e</span>\n<span class=\"hljs-meta\">server.port</span>=<span class=\"hljs-string\">12006</span>\n<span class=\"hljs-meta\">management.port</span>=<span class=\"hljs-string\">12009</span>\n<span class=\"hljs-comment\">\n# Service version</span>\n<span class=\"hljs-meta\">demo.service.version</span>=<span class=\"hljs-string\">1.0.0</span>\n<span class=\"hljs-comment\">\n# Base packages to scan Dubbo Components (e.g @Service , @Reference)</span>\n<span class=\"hljs-meta\">dubbo.scan.basePackages</span>=<span class=\"hljs-string\">com.example</span>\n<span class=\"hljs-comment\">\n# Dubbo Config properties</span>\n<span class=\"hljs-comment\">## ApplicationConfig Bean</span>\n<span class=\"hljs-meta\">dubbo.application.id</span>=<span class=\"hljs-string\">dubbo-demo-e</span>\n<span class=\"hljs-meta\">dubbo.application.name</span>=<span class=\"hljs-string\">dubbo-demo-e</span>\n<span class=\"hljs-comment\">\n## ProtocolConfig Bean</span>\n<span class=\"hljs-meta\">dubbo.protocol.id</span>=<span class=\"hljs-string\">dubbo</span>\n<span class=\"hljs-meta\">dubbo.protocol.name</span>=<span class=\"hljs-string\">dubbo</span>\n<span class=\"hljs-meta\">dubbo.protocol.port</span>=<span class=\"hljs-string\">12346</span>\n<span class=\"hljs-comment\">\n## RegistryConfig Bean</span>\n<span class=\"hljs-meta\">dubbo.registry.id</span>=<span class=\"hljs-string\">my-registry</span>\n<span class=\"hljs-meta\">dubbo.registry.address</span>=<span class=\"hljs-string\">127.0.0.1:2181</span>\n<span class=\"hljs-meta\">dubbo.registry.protocol</span>=<span class=\"hljs-string\">zookeeper</span>\n\n<span class=\"hljs-meta\">dubbo.application.qos.enable</span>=<span class=\"hljs-string\">false</span>\n<span class=\"hljs-comment\">\n#db</span>\n<span class=\"hljs-meta\">spring.datasource.driver-class-name</span>=<span class=\"hljs-string\">com.mysql.jdbc.Driver</span>\n<span class=\"hljs-meta\">spring.datasource.url</span>=<span class=\"hljs-string\">jdbc:mysql://127.0.0.1:3306/txlcn-demo\\\n  ?characterEncoding=UTF-8&amp;serverTimezone=UTC</span>\n<span class=\"hljs-meta\">spring.datasource.username</span>=<span class=\"hljs-string\">root</span>\n<span class=\"hljs-meta\">spring.datasource.password</span>=<span class=\"hljs-string\">123456</span>\n<span class=\"hljs-meta\">spring.datasource.hikari.maximum-pool-size</span>=<span class=\"hljs-string\">20</span>\n\n<span class=\"hljs-meta\">mybatis.configuration.map-underscore-to-camel-case</span>=<span class=\"hljs-string\">true</span>\n<span class=\"hljs-meta\">mybatis.configuration.use-generated-keys</span>=<span class=\"hljs-string\">true</span>\n\n</code></pre>\n<p>src:<a href=\"https://github.com/codingapi/tx-lcn/tree/5.0.0-dev/example/dubbo-demo-e\">https://github.com/codingapi/tx-lcn/tree/5.0.0/example/dubbo-demo-e</a></p>\n<h2>三、事务发起方 Client</h2>\n<p>（1）新建Maven 工程<br>\n<img src=\"img/maven.png\" alt=\"maven project\"><br>\n（2）项目配置文件 application.properties</p>\n<pre><code class=\"language-properties\"><span class=\"hljs-comment\"># Spring boot application</span>\n<span class=\"hljs-meta\">spring.application.name</span>=<span class=\"hljs-string\">dubbo-demo-client</span>\n<span class=\"hljs-meta\">server.port</span>=<span class=\"hljs-string\">12004</span>\n<span class=\"hljs-meta\">management.port</span>=<span class=\"hljs-string\">12007</span>\n<span class=\"hljs-comment\">\n# Service Version</span>\n<span class=\"hljs-meta\">demo.service.version</span>=<span class=\"hljs-string\">1.0.0</span>\n<span class=\"hljs-comment\">\n# Dubbo Config properties</span>\n<span class=\"hljs-comment\">## ApplicationConfig Bean</span>\n<span class=\"hljs-meta\">dubbo.application.id</span>=<span class=\"hljs-string\">dubbo-demo-client</span>\n<span class=\"hljs-meta\">dubbo.application.name</span>=<span class=\"hljs-string\">dubbo-demo-client</span>\n<span class=\"hljs-meta\">dubbo.application.d</span>=<span class=\"hljs-string\">dubbo-demo-d</span>\n<span class=\"hljs-meta\">dubbo.application.e</span>=<span class=\"hljs-string\">dubbo-demo-e</span>\n<span class=\"hljs-comment\">\n## ProtocolConfig Bean</span>\n<span class=\"hljs-meta\">dubbo.protocol.id</span>=<span class=\"hljs-string\">dubbo</span>\n<span class=\"hljs-meta\">dubbo.protocol.name</span>=<span class=\"hljs-string\">dubbo</span>\n<span class=\"hljs-meta\">dubbo.protocol.port</span>=<span class=\"hljs-string\">12345</span>\n<span class=\"hljs-meta\">dubbo.registry.protocol</span>=<span class=\"hljs-string\">zookeeper</span>\n<span class=\"hljs-meta\">dubbo.registry.address</span>=<span class=\"hljs-string\">127.0.0.1:2181</span>\n<span class=\"hljs-comment\">\n## db</span>\n<span class=\"hljs-meta\">spring.datasource.driver-class-name</span>=<span class=\"hljs-string\">com.mysql.jdbc.Driver</span>\n<span class=\"hljs-meta\">spring.datasource.url</span>=<span class=\"hljs-string\">jdbc:mysql://127.0.0.1:3306/txlcn-demo\\\n  ?characterEncoding=UTF-8&amp;serverTimezone=UTC</span>\n<span class=\"hljs-meta\">spring.datasource.username</span>=<span class=\"hljs-string\">root</span>\n<span class=\"hljs-meta\">spring.datasource.password</span>=<span class=\"hljs-string\">123456</span>\n<span class=\"hljs-meta\">spring.datasource.hikari.maximum-pool-size</span>=<span class=\"hljs-string\">20</span>\n\n<span class=\"hljs-meta\">mybatis.configuration.map-underscore-to-camel-case</span>=<span class=\"hljs-string\">true</span>\n<span class=\"hljs-meta\">mybatis.configuration.use-generated-keys</span>=<span class=\"hljs-string\">true</span>\n</code></pre>\n<p>src:<a href=\"https://github.com/codingapi/tx-lcn/tree/5.0.0.RC1/example/dubbo-demo-client\">https://github.com/codingapi/tx-lcn/tree/5.0.0.RC1/example/dubbo-demo-client</a></p>\n<h2>四、启动Dubbo微服务</h2>\n<p>（1） 事务参与方 D<br>\n<img src=\"img/dubbo-d.png\" alt=\"dubbo-d\">\n（2） 事务参与方 E<br>\n<img src=\"img/dubbo-e.png\" alt=\"dubbo-e\">\n（3） 事务发起方 Client<br>\n<img src=\"img/dubbo-client.png\" alt=\"dubbo-client\"></p>\n",
  "link": "/zh-cn/docs/demo/dubbo.html",
  "meta": {}
}